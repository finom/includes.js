(function(b,d){"function"===typeof define&&define.amd?define(d):window.includes=d()})(this,function(){var b,d,r,m={},n,g,a,p,h,k,e,q,l,c;return function(f){f=f||{};b=f.pattern||'{{include "FILE_NAME"}}';d=f.path||"";r=f.suffix||"";b="string"==typeof b?new RegExp(b.replace(/\s+/g,"\\s+").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace("FILE_NAME","(\\S+)")):b;n=document.querySelectorAll("*");for(k=0;k<n.length;k++)if(g=n[k],"SCRIPT"!=g.tagName)for(p=g.childNodes,e=0;e<p.length;e++)if(a=p[e],l=a.nodeType,
c=8==l?"\x3c!--"+a.nodeValue+"--\x3e":a.nodeValue,(3==l||8==l)&&b.test(c)){for(q=0;b.test(c);)if(c=c.replace(b,function(b,a){if(m[a])return m[a];h=new XMLHttpRequest;h.open("GET",d+a+r,!1);h.send();return m[a]=h.responseText}),q++,1E3<q){c="<b>Include Error:</b> Circular Reference";break}a.nextElementSibling?a.nextElementSibling.insertAdjacentHTML("beforebegin",c):a.parentNode.insertAdjacentHTML("beforeend",c);g.removeChild(a);e--}}});
